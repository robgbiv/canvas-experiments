<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>Half and halves</title>
    <style type="text/css">
    html,
    body {
        width: 100%;
        height: 100%;
        margin: 0px;
        overflow: hidden;
        display: block;
    }
    </style>
    <script type="application/javascript">
        function choosePalette() {
            var palettes = [
                ['#69D2E7', '#A7DBD8', '#E0E4CC', '#F38630', '#FA6900'],
                ['#FE4365', '#FC9D9A', '#F9CDAD', '#C8C8A9', '#83AF9B'],
                ['#ECD078', '#D95B43', '#C02942', '#542437', '#53777A'],
                ['#CFF09E', '#A8DBA8', '#79BD9A', '#3B8686', '#0B486B'],
                ['#556270', '#4ECDC4', '#C7F464', '#FF6B6B', '#C44D58'],
                ['#4000FF', '#2F00BD', '#250192', '#5218FF', '#7041FC'],
                ['#E8DDCB', '#CDB380', '#036564', '#033649', '#031634'],
                ['#E94E77', '#D68189', '#C6A49A', '#C6E5D9', '#F4EAD5'],
                ['#00A0B0', '#6A4A3C', '#CC333F', '#EB6841', '#EDC951'],
                ['#594F4F', '#547980', '#45ADA8', '#9DE0AD', '#E5FCC2'],
                ['#FFFFFF', '#CBE86B', '#F2E9E1', '#1C140D', '#CBE86B'],
                ['#343838', '#005F6B', '#008C9E', '#00B4CC', '#00DFFC']
            ];
            return palettes[Math.floor(Math.random() * palettes.length)];
        };

        var palette = choosePalette();

        var width = window.innerWidth;
        var height = window.innerHeight;
        var middleWidth = width / 2;
        var middleHeight = height / 2;
        var remainingWidth = middleWidth;
        var remainingHeight = height;
        var xPos = 0;
        var yPos = 0;

        function randomColour() {
            return palette[Math.floor(Math.random() * palette.length)];
        };

        function draw() {
            var ctx = document.getElementById('canvas').getContext('2d');
            ctx.canvas.width = width;
            ctx.canvas.height = height;

            ctx.fillStyle = randomColour();
            ctx.fillRect(0, 0, middleWidth, height);

            for (var i = 0; i < 10; i++) {
                ctx.fillStyle = randomColour();
                ctx.fillRect(middleWidth, yPos, remainingWidth, remainingHeight);
                xPos += remainingWidth;
                yPos += remainingHeight / 2;
                remainingWidth *= 2;
                remainingHeight *= 2;
                for (var j = 0; j < 10; j++) {
                    ctx.fillStyle = randomColour();
                    ctx.fillRect(xPos, middleHeight, remainingWidth, remainingHeight);
                    xPos += remainingWidth;
                    yPos += remainingHeight / 2;
                    remainingWidth *= 2;
                    remainingHeight *= 2;
                }
            }
        };
    </script>
</head>

<body onload="draw();" onresize="draw();">
    <canvas id="canvas"></canvas>
</body>

</html>
